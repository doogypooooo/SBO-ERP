# SBO-ERP 상세 개발요청서 (소상공인 맞춤, 회계/재무 포함 최종안)

---

## [기술 스택]
- **프론트엔드:** React (TypeScript 권장)
- **백엔드:** Node.js (Express 등)
- **데이터베이스:** SQLite3
- **기타:** RESTful API, JWT 인증, 반응형 웹, 엑셀/PDF 내보내기 등

---

## 1. 초기 사용 설정

### 1.1. 사용자 이용 환경설정
- 사용자별 테마, 언어, 날짜/숫자 포맷, 기본 시작 페이지, 즐겨찾기, 최근 사용 메뉴, 알림 수신 설정

### 1.2. 사용자 추가 및 권한관리
- 사용자 등록/수정/삭제, 비밀번호 정책
- **각 사용자별로 메뉴/기능(모듈)별 권한(읽기/쓰기/삭제/엑셀다운 등) 부여**
- 로그인 이력, 계정 잠금/해제  
- **부서/조직도 기능 없음**

### 1.3. 코드(품번, 입고번호, 출고번호 등) 설정
- 코드 자동생성 규칙, 수동 입력 시 중복 체크, 코드별 사용여부 관리

### 1.4. 항목명 바꾸기, 리스트에서 감추기 등
- 필드명 커스터마이즈, 불필요 항목 숨김/표시, 필수항목 지정, 컬럼 순서/너비 저장

### 1.5. 화면 및 아이콘 버튼의 이해
- 각 버튼별 툴팁, 단축키 안내, 도움말(FAQ/가이드) 바로가기

---

## 2. 공통기능

- 자료의 다중조건 검색, 검색조건 저장/불러오기, 결과 엑셀/CSV/PDF 내보내기
- 입력 중 실시간 재고확인(창고별/전체), 재고 부족 시 경고/차단
- 사용자 정의 필드 추가(텍스트, 숫자, 날짜, 드롭다운 등)
- 품목별 일련/로트번호 관리, 유효기간/제조일자, 입출고 이력 추적
- 업무별 기본화면/필터/정렬/컬럼 설정 저장
- 이미지(사진) 첨부, 썸네일/원본 보기, 삭제/교체
- 엑셀 템플릿 다운로드, 업로드 내역 로그, 오류 행만 재업로드 지원

---

## 3. 기초자료(거래처, 품목 등) 입력

- 거래처 등록/수정/삭제, 중복(사업자번호/이메일) 방지, 분류(고객/공급사/기타), 상태(활성/중지)
- 거래처별 담당자, 결제조건, 신용한도, 메모, 첨부파일(계약서 등)
- 품목코드, 품명, 규격, 단위, 바코드, 분류, 단가, 이미지, 공급사/구매단가 이력
- **상품(품목) 바코드 관리:**
  - 품목별 바코드 자동/수동 등록, 바코드로 입출고/재고/조회/검색 가능
  - 바코드 스캐너(USB/모바일) 연동, 바코드 라벨 출력 지원
  - 바코드 중복 방지, 바코드로 상품 식별 및 관리
- 기본/보조단위 및 환산비율, 단위별 가격/재고 자동 변환
- 대분류-중분류-소분류 3단계 분류체계, 분류별 품목 일괄 관리
- 최초 재고 입력, 실사/조정 이력, 조정 사유, 첨부파일(실사표 등)
- 프로젝트별 품목/거래처/입출고 집계, 예산/실적/이력 관리

---

## 4. 입고/구매

- 구매요청서 작성(품목, 수량, 납기, 요청자, 사유), 승인/반려 프로세스
- 기존 요청서/엑셀/발주서에서 데이터 불러오기, 중복 요청 자동 감지
- 공급사별 견적서 등록, 첨부파일, 견적 비교 및 선정
- 구매요청 기반 발주서 자동생성, 거래처별/품목별 발주, 발주서 인쇄/이메일 발송, 발주상태 관리
- 입고(구매) 등록, **바코드/BOM/발주자료 연동, 바코드 스캔 입고 지원**
- 부가세 포함/제외 입력, 입고대기 관리, 입고증 인쇄

---

## 5. 출고/판매

- 고객사별 견적서 작성, PDF/이메일 발송, 견적 유효기간/상태 관리
- 고객 주문 등록(품목, 수량, 납기, 담당자), 주문 승인/반려, 주문상태 관리
- 출고(판매) 등록, **바코드 스캔 출고 지원, 단가 자동 적용, 출고대기 관리, 출고증 인쇄, 출고 이력 관리**

---

## 6. 회계/재무 관리

### 6.1. 계정과목 관리
- **화면**: 계정과목 목록, 등록/수정/삭제 폼
- **주요 필드**: 계정코드, 계정명, 분류(자산/부채/자본/수익/비용), 사용여부
- **예외/검증**: 계정코드/명 중복 불가, 하위 전표 존재 시 삭제 제한

### 6.2. 전표(입금/출금/대체) 관리
- **화면**: 전표 목록, 전표 등록/수정/삭제 폼
- **주요 필드**: 전표번호, 일자, 계정과목, 금액, 거래처, 적요, 증빙파일, 상태(임시/확정/취소)
- **프로세스**:
  1. 입금/출금/대체 전표 등록(필수: 일자, 계정, 금액)
  2. 전표 확정/취소, 증빙파일 첨부
- **예외/검증**: 금액 0/음수 불가, 확정 전표 수정 제한

### 6.3. 수금/지급 관리
- **화면**: 수금/지급 내역 목록, 등록/수정/삭제 폼
- **주요 필드**: 거래처, 일자, 금액, 계정, 결제수단(현금/이체/카드 등), 상태(예정/완료)
- **프로세스**:
  1. 매출/매입 발생 시 미수/미지급 자동 생성
  2. 수금/지급 처리 시 잔액 자동 차감
- **예외/검증**: 미수/미지급 잔액 초과 지급 불가

### 6.4. 회계장부/재무제표 출력
- **화면**: 총계정원장, 거래명세표, 대차대조표, 손익계산서 등 출력/다운로드 UI
- **주요 기능**:
  - 기간/계정/거래처별 조회, 엑셀/PDF 출력
  - 월별/분기별/연간 집계, 그래프/차트 제공

### 6.5. 부가세/세금계산서 관리
- **화면**: 세금계산서 발행/수취 목록, 등록/수정/삭제 폼
- **주요 필드**: 거래처, 품목, 금액, 발행일, 공급가액, 부가세, 상태(발행/취소)
- **프로세스**:
  1. 매출/매입 발생 시 세금계산서 자동 생성(옵션)
  2. 전자세금계산서 연동(국세청 API 등, 필요시)
- **예외/검증**: 금액/부가세 불일치 시 경고, 중복 발행 방지

---

## 7. 공통/기타 요구사항

- **권한 관리:**  
  - 각 사용자별로 메뉴/기능별 접근권한(읽기/쓰기/삭제/엑셀다운 등) 부여  
  - 권한 없는 메뉴/기능은 비활성화 또는 숨김 처리
- **데이터 백업/복구:**  
  - 주기적 자동 백업, 수동 백업/복구, 백업 이력 관리
- **알림/이력:**  
  - 주요 이벤트(입고/출고/승인 등) 알림(팝업/이메일/모바일), 변경이력(누가, 언제, 무엇을)
- **모바일/웹 지원:**  
  - 반응형 UI, 모바일 앱/웹브라우저 지원, 모바일 바코드 스캔
- **외부 연동:**  
  - 엑셀, 회계/물류 등 타 시스템 연동(REST API, 파일 업로드/다운로드)

---

## 8. 데이터/권한/연동 등 부가 요구사항

- **DB 설계:**  
  - 거래처, 품목, 입출고, 사용자, 권한, 이력, 프로젝트, 회계 등 테이블 설계(ERD 제공)
- **API 설계:**  
  - RESTful API, 인증/인가(JWT, OAuth 등), CRUD, 검색, 페이징, 정렬, 필터
- **보안:**  
  - 데이터 암호화(비밀번호, 중요정보), 접근제어(IP, 권한), 감사로그, 개인정보 보호
